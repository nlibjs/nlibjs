{
    "private": true,
    "devDependencies": {
        "@commitlint/cli": "^7.5.2",
        "@commitlint/config-conventional": "^7.5.0",
        "@commitlint/config-lerna-scopes": "^7.5.1",
        "@nlib/lint": "file:packages-core/lint",
        "@types/eslint": "^4.16.6",
        "@types/node": "^11.13.4",
        "@typescript-eslint/eslint-plugin": "^1.6.0",
        "ava": "^1.4.1",
        "eslint": "^5.16.0",
        "globby": "^9.2.0",
        "husky": "^1.3.1",
        "lerna": "^3.13.2",
        "lint-staged": "^8.1.5",
        "npm-run-all": "^4.1.5",
        "rimraf": "^2.6.3",
        "ts-node": "^8.0.3",
        "typescript": "^3.4.3"
    },
    "scripts": {
        "bootstrap": "lerna bootstrap",
        "cleanup": "lerna run cleanup",
        "lerna:build": "lerna run build",
        "lerna:test": "lerna run test --parallel",
        "build": "run-s bootstrap lerna:build",
        "test-meta": "ava scripts/*.test.ts",
        "test": "run-s test-meta lerna:test",
        "lint": "lerna run lint",
        "bump": "lerna version --conventional-commits --sign-git-commit --sign-git-tag --no-push"
    },
    "lerna": {
        "packages": [
            "packages-*/*"
        ],
        "version": "3.5.0",
        "command": {
            "publish": {
                "allowBranch": "master",
                "ignoreChanges": [
                    "*.md",
                    "*.test.ts"
                ]
            }
        }
    },
    "ava": {
        "compileEnhancements": false,
        "extensions": [
            "ts"
        ],
        "require": [
            "ts-node/register"
        ]
    },
    "nyc": {
        "include": [
            "packages-*/*/lib/**/*.js"
        ],
        "exclude": [
            "packages-*/*/lib/**/*.test.js"
        ],
        "all": true,
        "reporter": [
            "lcov",
            "html",
            "text",
            "text-summary"
        ]
    },
    "eslintConfig": {
        "extends": "./node_modules/@nlib/lint/.eslintrc.json",
        "rules": {
            "no-restricted-syntax": [
                "error",
                {
                    "selector": "FunctionExpression[async=true][generator=true]",
                    "message": "Async generator is restricted."
                },
                {
                    "selector": "FunctionDeclaration[async=true][generator=true]",
                    "message": "Async generator is restricted."
                },
                {
                    "selector": "ForOfStatement[await=true]",
                    "message": "for await...of statement is restricted."
                }
            ]
        },
        "overrides": [
            {
                "files": [
                    "**/*.test.ts"
                ],
                "env": {
                    "node": true
                }
            },
            {
                "files": [
                    "scripts/**/*.ts"
                ],
                "env": {
                    "es6": true,
                    "node": true
                },
                "rules": {
                    "no-console": "off",
                    "global-require": "off",
                    "@typescript-eslint/no-require-imports": "off"
                }
            },
            {
                "files": [
                    "packages-node/**/*.ts",
                    "packages-*/**/bin/*"
                ],
                "env": {
                    "es6": true,
                    "node": true
                }
            }
        ]
    },
    "commitlint": {
        "extends": [
            "@commitlint/config-conventional",
            "@commitlint/config-lerna-scopes"
        ],
        "rules": {
            "scope-enum": [
                2,
                "always",
                [
                    "cookie",
                    "fetch",
                    "global",
                    "infra",
                    "lint",
                    "match",
                    "media-type",
                    "named-tree",
                    "nbnf",
                    "number",
                    "real-number",
                    "unicode",
                    "util",
                    "xml-js",
                    "afs",
                    "node-net",
                    "node-stream",
                    "node-util",
                    "deps"
                ]
            ]
        }
    },
    "husky": {
        "hooks": {
            "commit-msg": "commitlint -E HUSKY_GIT_PARAMS",
            "pre-commit": "lint-staged"
        }
    },
    "lint-staged": {
        "*.ts": [
            "eslint"
        ]
    },
    "renovate-config": {
        "extends": [
            "github>nlibjs/renovate-config"
        ]
    }
}
